<refentry id="reference-gmptogtp">

<refmeta>
<refentrytitle>gmptogtp</refentrytitle> <manvolnum>1</manvolnum>
</refmeta>

<refnamediv>
<refname>gmptogtp</refname>
<refpurpose>
Adapter from Go Text Protocol to Go Modem Protocol.
</refpurpose>
</refnamediv>

<refsynopsisdiv>
<cmdsynopsis>
<command>gmptogtp</command>
<arg><option>-baud</option> <replaceable>n</replaceable></arg>
<arg><option>-color</option><group choice="plain">
  <arg choice="plain">black</arg><arg choice="plain">white</arg></group></arg>
<arg><option>-config</option> <replaceable>file</replaceable></arg>
<arg><option>-device</option> <replaceable>serial</replaceable></arg>
<arg><option>-flow</option> <group choice="plain">
  <arg choice="plain">rtscts</arg><arg choice="plain">xonxoff</arg>
  <arg choice="plain">none</arg></group></arg>
<arg><option>-list</option></arg>
<arg><option>-simple</option></arg>
<arg><option>-size</option> <replaceable>n</replaceable></arg>
<arg><option>-verbose</option></arg>
<arg><option>-wait</option></arg>
<arg><replaceable>program</replaceable></arg>
</cmdsynopsis>

<cmdsynopsis>
<command>gmptogtp</command>
<arg choice="plain"><option>-help</option></arg>
</cmdsynopsis>

<cmdsynopsis>
<command>gmptogtp</command>
<arg choice="plain"><option>-version</option></arg>
</cmdsynopsis>
</refsynopsisdiv>

<refsection>
<title>Description</title>
<para>
Go Text Protocol adapter program for playing games using the
Go Modem Protocol over a serial line.
</para>
<para>
If a program argument is given, then the given program is run as a child
process and expected to communicate via GMP through its standard input and
output.
For using a serial device, an implementation of the
<ulink url="http://java.sun.com/products/javacomm/">
Java Communications API</ulink> must be installed
(<ulink url="http://www.rxtx.org/">rxtx</ulink>
is a version supporting Linux).
Note that GMP is an asynchronous protocol and commands can be sent
by both sides at any time, while GTP is synchronous.
This problem is resolved in the following way:
A separate thread always listens to the serial device, acknowledges
received GMP commands immediately and puts them on an internal
queue.
GTP commands that need to receive a command from GMP
(like <userinput>genmove_black</userinput>) check if such a command
is already on the queue and wait for a new command otherwise.
If an unexpected GMP command was received, the GTP command will return
with an error and subsequently only a GTP command that corresponds
to the GMP command will succeed.
GTP commands that are waiting for a GMP command can be interrupted
with the special comment line
<userinput>#&#160;interrupt</userinput> used by
<application>GoGui</application> to interrupt commands.
</para>
</refsection>

<refsection>
<title>Options</title>

<variablelist>
<varlistentry>
<term>
<option>-baud</option> <replaceable>n</replaceable>
</term>
<listitem>
<para>
Speed of serial device (default 2400).
</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<option>-color</option> black | white
</term>
<listitem>
<para>
Color of the modem player.
</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<option>-config</option> <replaceable>file</replaceable>
</term>
<listitem>
<para>
Read command line options and arguments from <replaceable>file</replaceable>.
</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<option>-device</option> <replaceable>serial</replaceable>
</term>
<listitem>
<para>
Serial device name.
</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<option>-flow</option> rtscts | xonxoff | none
</term>
<listitem>
<para>
Flow control for serial device.
Possible values are hardware control (RTS/CTS), software control (XON/XOFF) or
no control. 
Default: RTS/CTS.
</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<option>-help</option>
</term>
<listitem>
<para>
Display help and exit.
</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<option>-list</option>
</term>
<listitem>
<para>
List all serial devices and exit.
</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<option>-simple</option>
</term>
<listitem>
<para>
Use simple version of the Go Modem Protocol as defined in the
<ulink url="http://www.tanaka.ecc.u-tokyo.ac.jp/sig-gi/fjk2k-go/cfp-english.txt">
Appendix A in Call For Participation to the FJK Computer Go
Tournament 2000</ulink>.
</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<option>-size</option> <replaceable>n</replaceable>
</term>
<listitem>
<para>
Board size (default 19).
</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<option>-verbose</option>
</term>
<listitem>
<para>
Print debugging messages.
</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<option>-version</option>
</term>
<listitem>
<para>
Print version and exit.
</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<option>-wait</option>
</term>
<listitem>
<para>
Wait for other side to send the first newgame command.
</para>
</listitem>
</varlistentry>

</variablelist>
</refsection>

<refsection>
<title>GTP Extensions</title>
<para>
<variablelist>

<varlistentry>
<term><userinput>gogui_interrupt</userinput></term>
<listitem>
<para>
Indicate interrupt ability for GoGui.
</para>
</listitem>
</varlistentry>

<varlistentry>
<term><userinput>gogui_title</userinput></term>
<listitem>
<para>
Return a title for GoGui.
</para>
</listitem>
</varlistentry>

<varlistentry>
<term><userinput>gmp_queue</userinput></term>
<listitem>
<para>
Print received queued commands that have already been
acknowledged.
</para>
</listitem>
</varlistentry>

<varlistentry>
<term><userinput>gmp_text <replaceable>text</replaceable></userinput></term>
<listitem>
<para>
Send text as talk characters.
</para>
</listitem>
</varlistentry>

</variablelist>
</para>

<para>
<!-- Empty paragraph to enforce some space in JEditorPane (Java 1.5.0) -->
</para>

</refsection>

</refentry>
